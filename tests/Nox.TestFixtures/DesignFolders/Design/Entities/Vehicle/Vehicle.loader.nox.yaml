#
# Vehcile data loader definition
#

Name: VehicleLoader

Description: Loads vehicle data 

Schedule:
  Start: Daily at 2am UTC
  Retry:
    Limit: 10
    DelaySeconds: 60
    DoubleDelayLimit: 5

LoadStrategy: 
  Type: DropAndLoad
  Columns: [CreateDate,EditDate]


Target:
  Entity: Vehicle
  
Messaging:
  - MessagingProvider: TestMessagingProvider2

Sources:
  - DataSource: TestDataSource2
    MinimumExpectedRecords: 30 
    Query: >-
      SELECT 
           [Id]
          ,[PersonId] AS [PersonId]
          ,[VehicleBrand] AS [Brand]
          ,[VehicleColor] AS [Color]
      FROM dbo.SourceVehicle WITH (NOLOCK)
